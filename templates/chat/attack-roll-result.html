<section class="godbound chat-message">
    <div class="godbound chat-block attack-roll {{result.className}}">
        <h2>
            {{title}}
        </h2>
        <div class="flexrow chat-actor">
            <div class="chat-img" style="background-image:url('{{data.actor.img}}')" title="{{data.actor.name}}" ></div>
            <div class="chat-img" style="background-image:url('{{data.item.img}}')"></div>
            <div class="chat-title">
                <h3 style="margin-top:8px;">
                    {{#if data.item.data.data.magic}}
                        {{data.item.name}}*
                    {{/if}}
                    {{#unless data.item.data.data.magic}}
                        {{data.item.name}}
                    {{/unless}}
                </h3>
            </div>
        </div>
        {{#if data.targetToken}}
        <div class="flexrow chat-actor">
            <div class="chat-img" style="background-image:url('{{data.targetToken.data.img}}')" title="{{data.targetToken.data.name}}" ></div>
            <div class="chat-title">
                <h3 style="margin-top:8px;">{{data.targetToken.data.name}}</h3>
            </div>
        </div>
        {{/if}}
        <div class="blindable" data-blind="{{data.roll.blindroll}}">
            <div>{{{roll}}}</div>
            {{#if result.isCheckedForSuccess}}
                {{#if result.isFailure}}
                <div class='roll-result roll-fail'><b>Miss! (Target was {{result.target}}, AKA 20 minus your <i>targetted token's AC</i>, which maths out the same, but looks different because coding the roll itself to call the targetted token's AC is a lot harder than making the roll target do it.)</b></div>
                {{/if}}
                {{#if result.isSuccess}}
                <div class='roll-result roll-success'><b>Hit! (Target was {{result.target}}, AKA 20 minus your <i>targetted token's AC</i>, which maths out the same, but looks different because coding the roll itself to call the targetted token's AC is a lot harder than making the roll target do it.)</b></div>
                {{/if}}
            {{/if}}
            <div>Damage: <span class="damage-formula-roll" data-formula="{{damage}}" data-actor-id="{{data.actor.id}}" data-damage-source="{{damageSource}}">{{damage}}</span></div>
        </div>
    </div>
</section>